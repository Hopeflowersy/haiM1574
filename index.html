<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Webcam Permission Demo</title>
<style>
/* BODY */
body { margin:0; height:100vh; display:flex; justify-content:center; align-items:center; overflow:hidden; font-family:"Poppins",sans-serif; background:linear-gradient(45deg,#ff8800,#ffffff); background-size:300% 300%; animation:gradientMove 8s ease infinite; }
@keyframes gradientMove {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

/* HIDDEN BY DEFAULT */
#mainContent { display:none; flex-direction:column; align-items:center; }

/* TITLE & WEBCAM */
.title { font-size:32px; font-weight:700; color:#ffffff; text-shadow:0 0 12px #ffb84c,0 0 20px #ff9900; margin-bottom:10px; animation:floatTitle 3s ease-in-out infinite; }
@keyframes floatTitle {0%{transform: translateY(0) rotate(-2deg);}50%{transform: translateY(-8px) rotate(2deg);}100%{transform: translateY(0) rotate(-2deg);}}

.webcam-wrapper { display:flex; justify-content:center; align-items:center; position:relative; z-index:10; }
#camera { width:35vw; max-width:380px; border-radius:20px; border:5px solid rgba(255,165,0,0.9); box-shadow:0 0 25px rgba(255,150,0,0.6),0 0 40px rgba(255,180,0.5); background:#000; }
video { width:100%; border-radius:15px; }

.left-text,.right-text { position:absolute; top:50%; transform:translateY(-50%); font-size:22px; font-weight:600; color:#fffaee; text-shadow:0 0 12px #ff9900,0 0 20px #ff7700; line-height:1.2; z-index:11; }
.left-text { left:-350px; text-align:right; animation:floatLeft 3s ease-in-out infinite; }
.right-text { right:-300px; text-align:left; animation:floatRight 3s ease-in-out infinite; }
@keyframes floatLeft {0%{transform:translateY(0) rotate(-5deg);}50%{transform:translateY(-10px) rotate(-5deg);}100%{transform:translateY(0) rotate(-5deg);}}
@keyframes floatRight {0%{transform:translateY(0) rotate(5deg);}50%{transform:translateY(-10px) rotate(5deg);}100%{transform:translateY(0) rotate(5deg);}}

#popupDenied { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:linear-gradient(135deg,#ff6f91,#ffb677); padding:20px 40px; border-radius:20px; text-align:center; color:white; font-size:22px; z-index:100; box-shadow:0 0 25px #ff6f91; }
#popupDenied button { margin-top:15px; padding:8px 20px; font-size:18px; border-radius:15px; border:none; cursor:pointer; background:#fff; color:#ff6f91; font-weight:bold;}
</style>
</head>
<body>

<!-- POPUP IZIN -->
<div id="popupDenied">
    Eh, izinkan kameranya dong biar seru âœ¨ðŸ’–
    <br><button id="closeDenied">Oke</button>
</div>

<!-- KONTEN UTAMA (tersembunyi sampai izin diberikan) -->
<div id="mainContent">
    <div class="title">the prettiest girl in the worldd âœ¨</div>
    <div class="webcam-wrapper">
        <div class="left-text">Yang katanya mau jadi<br>independent womahhh ðŸ’…âœ¨</div>
        <div id="camera"><video id="webcam" autoplay playsinline></video></div>
        <div class="right-text">Calon Psikoloogi ðŸŽ“ðŸ§ </div>
    </div>
</div>

<script>
const mainContent = document.getElementById("mainContent");
const webcam = document.getElementById("webcam");
const popupDenied = document.getElementById("popupDenied");
const closeDenied = document.getElementById("closeDenied");

// MINTA IZIN KAMERA
navigator.mediaDevices.getUserMedia({ video: true })
.then(stream => {
    // jika diterima
    webcam.srcObject = stream;
    mainContent.style.display = "flex"; // tampilkan konten utama
    popupDenied.style.display = "none"; // sembunyikan popup izin
})
.catch(() => {
    // jika ditolak, tetap tampilkan popup
    popupDenied.style.display = "block";
});

// tombol popup
closeDenied.addEventListener("click", ()=>{
    popupDenied.style.display="none";
});
</script>

</body>
</html>
